<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://tproger.ru/articles/react-context-in-5-min/"/>
    <meta property="og:site_name" content="Tproger"/>
    <meta property="article:published_time" content="2019-11-13T12:38:46+00:00"/>
    <meta property="og:title" content="React Context –∑–∞ 5 –º–∏–Ω—É—Ç: —á—Ç–æ —ç—Ç–æ –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å"/>
    <meta property="og:description" content="–ß—Ç–æ —Ç–∞–∫–æ–µ React Context –∏ –∫–∞–∫ —Å –Ω–∏–º —Ä–∞–±–æ—Ç–∞—Ç—å? –ë—ã—Å—Ç—Ä—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π —Ä–∞–∑–±–æ—Ä –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ."/>
  </head>
  <body>
    <article>
      <h1>React Context –∑–∞ 5 –º–∏–Ω—É—Ç: —á—Ç–æ —ç—Ç–æ –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</h1>
      <address><time datetime="2019-11-13T12:38:46+00:00">13 Nov 2019, 12:38</time> by <a rel="author">–ê–ª–µ–∫—Å–∞–Ω–¥—Ä –õ–∞–Ω—Å–∫–∏–π</a></address>
      <p>–ü–µ—Ä–µ–≤–æ–¥ —Å—Ç–∞—Ç—å–∏ <a href="https://www.freecodecamp.org/news/react-context-in-5-minutes/">¬´React Context in 5 Minutes¬ª</a></p>
      <p>React Context –¥–ª—è –º–Ω–æ–≥–∏—Ö —Å—Ç–∞–ª –ø—Ä–∏–≤—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –∑–∞–º–µ–Ω–∏–≤ —Å–æ–±–æ–π Redux. –í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –≤—ã —É–∑–Ω–∞–µ—Ç–µ –æ React Context –∏ –Ω–∞—É—á–∏—Ç–µ—Å—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.</p>
      <p>
        <a href="https://tproger.ru/translations/react-communication-between-components/">–°–ø–æ—Å–æ–±—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –≤ Reacttproger.ru</a>
      </p>
      <p>–†–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–∞–±–æ—Ç—É Context –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–∞–∫–æ–≥–æ –¥–µ—Ä–µ–≤–∞. –ù–∏–∂–Ω–∏–µ –±–ª–æ–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:</p>
      <figure>
        <img src="https://cdn.tproger.ru/wp-content/uploads/2019/11/gevur92qwoxvdjnm12dw.jpg"/>
      </figure>
      <p>–î–æ–ø—É—Å—Ç–∏–º, –≤–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –∫–∞–∫–æ–º—É-—Ç–æ –∏–∑ –Ω–∏–∂–Ω–∏—Ö –±–ª–æ–∫–æ–≤ ‚Äî —ç—Ç–æ –Ω–µ—Å–ª–æ–∂–Ω–æ. –ù–æ —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–æ—Å–µ–¥–Ω–µ–º—É (—Ç. –µ. –æ—Ç–¥–µ–ª—å–Ω–æ–º—É) –±–ª–æ–∫—É? –ü–æ–∫–∞ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –±–ª–æ–∫—É-—Ä–æ–¥–∏—Ç–µ–ª—é, –æ—Ç–∫—É–¥–∞ –µ–≥–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–º—É –¥–æ—á–µ—Ä–Ω–µ–º—É –±–ª–æ–∫—É.</p>
      <figure>
        <img src="https://cdn.tproger.ru/wp-content/uploads/2019/11/u20r26dtxyr6ek6krzsb.jpg"/>
      </figure>
      <p>–ï—Å–ª–∏ –≤–¥—Ä—É–≥ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ —Å–æ—Å–µ–¥–Ω–µ–º—É —Ä–æ–¥–∏—Ç–µ–ª—é, –≤—ã, –æ–ø—è—Ç—å –∂–µ, –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç–µ –µ–≥–æ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –≤—ã—à–µ, –∞ –ø–æ—Ç–æ–º ¬´—Å–ø—É—Å–∫–∞–µ—Ç–µ¬ª –æ–±—Ä–∞—Ç–Ω–æ –∫ –Ω—É–∂–Ω–æ–º—É –±–ª–æ–∫—É.</p>
      <figure>
        <img src="https://cdn.tproger.ru/wp-content/uploads/2019/11/wtlykrxnx8xi12h4wek4.jpg"/>
      </figure>
      <p>–†–µ—à–µ–Ω–∏–µ –¥–æ–≤–æ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ, –∞ –≥–ª–∞–≤–Ω–æ–µ ‚Äî —Ä–∞–±–æ—á–µ–µ. –ù–æ —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ –¥–∞–ª—å–Ω–µ–º—É –±–ª–æ–∫—É?</p>
      <figure>
        <img src="https://cdn.tproger.ru/wp-content/uploads/2019/11/g3xrvthcw24izllvb58w.jpg"/>
      </figure>
      <p>–î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ ¬´–ø–æ–¥–Ω—è—Ç—å¬ª —Å–≤–æ–π—Å—Ç–≤–æ –ø–æ –≤—Å–µ–º—É –¥–µ—Ä–µ–≤—É –≤–≤–µ—Ä—Ö –¥–æ —Å–∞–º–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ –±–ª–æ–∫–∞, –∞ –ø–æ—Ç–æ–º ¬´—Å–ø—É—Å—Ç–∏—Ç—å¬ª –æ–±—Ä–∞—Ç–Ω–æ –∫ –Ω—É–∂–Ω–æ–º—É –¥–æ—á–µ—Ä–Ω–µ–º—É –±–ª–æ–∫—É. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –∫—É—á—É –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –≠—Ç–æ—Ç —É—Ç–æ–º–∏—Ç–µ–ª—å–Ω—ã–π –∏ —Ç—Ä—É–¥–æ—ë–º–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏–∑–≤–µ—Å—Ç–µ–Ω –∫–∞–∫ <i>–ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ</i> (–∞–Ω–≥–ª. <i>prop drilling</i>).</p>
      <figure>
        <img src="https://cdn.tproger.ru/wp-content/uploads/2019/11/ey25z0hvmy31xiiqqwgq.jpg"/>
      </figure>
      <p>–ò–º–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –∑–∞–¥–µ–π—Å—Ç–≤—É–µ—Ç—Å—è Context API. –û–Ω –¥–∞—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–º –±–ª–æ–∫–∞–º –¥–µ—Ä–µ–≤–∞ –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–π —Å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ –∏ –¥–æ—á–µ—Ä–Ω–∏–º–∏ –±–ª–æ–∫–∞–º–∏.</p>
      <figure>
        <img src="https://cdn.tproger.ru/wp-content/uploads/2019/11/ckfpokb2cz3ffmn8238i.jpg"/>
      </figure>
      <p>–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è React Context –≤–æ–∑—å–º—ë–º –≤–æ—Ç —Ç–∞–∫–æ–π –∑–∞–±–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–Ω—è –∏ –Ω–æ—á–∏:</p>
      <figure>
        <video src="https://cdn.tproger.ru/wp-content/uploads/2019/11/3evdww.gif" autoplay="" loop=""/>
      </figure>
      <p>–ü–æ–ª–Ω—ã–π –∫–æ–¥ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å <a href="https://scrimba.com/c/czkvE4sw">–∑–¥–µ—Å—å</a>.</p>
      <h3>–°–æ–∑–¥–∞–Ω–∏–µ Context</h3>
      <p>–í–Ω–∞—á–∞–ª–µ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–ª–æ –¥–æ—Å—Ç—É–ø –∫ Context. –î–ª—è —ç—Ç–æ–≥–æ –≤ <code>index.js</code> –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ <code>ThemeContext.Provider</code>. –ï—â—ë —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –µ–º—É —Å–≤–æ–π—Å—Ç–≤–æ <code>value</code>. –í –Ω—ë–º –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –¥–µ–Ω—å –∏–ª–∏ –Ω–æ—á—å.</p>
      <pre>import React from "react";<br/>import ReactDOM from "react-dom";<br/>import ThemeContext from "./themeContext";<br/><br/>import App from "./App";<br/><br/>ReactDOM.render(<br/>  &lt;ThemeContext.Provider value={"Day"}&gt;<br/>    &lt;App /&gt;<br/>  &lt;/ThemeContext.Provider&gt;,<br/>  document.getElementById("root")<br/>);</pre>
      <h3>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –æ—Ç Context —á–µ—Ä–µ–∑ contextType</h3>
      <p>–ü–æ–∫–∞ —á—Ç–æ –≤ <code>App.js</code> –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>&lt;Image /&gt;</code>.</p>
      <pre>import React from "react";<br/>import Image from "./Image";<br/><br/>class App extends React.Component {<br/>  render() {<br/>    return (<br/>      &lt;div className="app"&gt;<br/>        &lt;Image /&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}<br/><br/>export default App;</pre>
      <p>–ù–∞–º –Ω—É–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é Context –º–µ–Ω—è—Ç—å <code>className</code> –≤ <code>Image.js</code> —Å <code>Day</code> –Ω–∞ <code>Night</code> –∏ –æ–±—Ä–∞—Ç–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ <code>ContextType</code>. –ü–æ—Ç–æ–º, –∏—Å–ø–æ–ª—å–∑—É—è –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é —Å—Ç—Ä–æ–∫–∏, –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å —ç—Ç–æ —Å–≤–æ–π—Å—Ç–≤–æ –≤ <code>className</code>¬†–≤ –æ–±—ä–µ–∫—Ç–µ <code>&lt;Image /&gt;</code>.</p>
      <p>–¢–µ–ø–µ—Ä—å —Å–≤–æ–π—Å—Ç–≤–æ <code>className</code> —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç—Ä–æ–∫—É –∏–∑ <code>value</code>:</p>
      <pre>import React from "react";<br/>import Button from "./Button";<br/>import ThemeContext from "./themeContext";<br/><br/>class Image extends React.Component {<br/>  render() {<br/>    const theme = this.context;<br/>    return (<br/>      &lt;div className={`${theme}-image image`}&gt;<br/>        &lt;div className={`${theme}-ball ball`} /&gt;<br/>        &lt;Button /&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}<br/><br/>Image.contextType = ThemeContext;<br/><br/>export default Image;</pre>
      <h3>–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –∏–∑ Context</h3>
      <p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —Å–ø–æ—Å–æ–± –≤—ã—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ù–æ –±–ª–∞–≥–æ–¥–∞—Ä—è <a href="https://www.freecodecamp.org/news/react-hooks-in-5-minutes/">—Ö—É–∫–∞–º</a> —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—Å—ë —á—Ç–æ —É–≥–æ–¥–Ω–æ. –¢–∞–∫ —á—Ç–æ –¥–ª—è –ø–æ–ª–Ω–æ—Ç—ã –∫–∞—Ä—Ç–∏–Ω—ã –Ω—É–∂–Ω–æ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–µ—é—â–∏–µ—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>ThemeContext.Consumer</code>, —á—Ç–æ–±—ã –ø–µ—Ä–µ–¥–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–µ–∂–¥—É –Ω–∏–º–∏.</p>
      <p>
        <a href="https://tproger.ru/translations/react-hooks/">–ü–∏—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ —Å–ø–∏—Å–∫–æ–º –¥–µ–ª –ø—Ä–∏ –ø–æ–º–æ—â–∏ React Hookstproger.ru</a>
      </p>
      <p>–≠—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, –æ–±–µ—Ä–Ω—É–≤ —ç–ª–µ–º–µ–Ω—Ç—ã –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä <code>&lt;ThemeContext.Consumer&gt;</code>. –í–Ω—É—Ç—Ä–∏ –Ω–µ–≥–æ –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é —ç–ª–µ–º–µ–Ω—Ç—ã. –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω ¬´render props¬ª, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –≤ –∫–∞—á–µ—Å—Ç–≤–µ children –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSX –∫–æ–¥.</p>
      <pre>import React from "react";<br/>import Button from "./Button";<br/>import ThemeContext from "./themeContext";<br/><br/>function Image(props) {<br/>  // –≠—Ç–æ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ<br/>  // const theme = this.context<br/><br/>  return (<br/>    &lt;ThemeContext.Consumer&gt;<br/>      {theme =&gt; (<br/>        &lt;div className={`${theme}-image image`}&gt;<br/>          &lt;div className={`${theme}-ball ball`} /&gt;<br/>          &lt;Button /&gt;<br/>        &lt;/div&gt;<br/>      )}<br/>    &lt;/ThemeContext.Consumer&gt;<br/>  );<br/>}<br/><br/>// –≠—Ç–æ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ<br/>// Image.contextType = ThemeContext;<br/><br/>export default Image;</pre>
      <p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ <code>&lt;Button /&gt;</code> —Ç–æ–∂–µ –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –≤ <code>&lt;ThemeContext.Consumer&gt;</code> ‚Äî –≤ –±—É–¥—É—â–µ–º —ç—Ç–æ –¥–æ–±–∞–≤–∏—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–∫–µ.</p>
      <pre>import React from "react";<br/>import ThemeContext from "./themeContext";<br/><br/>function Button(props) {<br/>  return (<br/>    &lt;ThemeContext.Consumer&gt;<br/>      {context =&gt; (<br/>        &lt;button className="button"&gt;<br/>          Switch<br/>          &lt;span role="img" aria-label="sun"&gt;<br/>            üåû<br/>          &lt;/span&gt;<br/>          &lt;span role="img" aria-label="moon"&gt;<br/>            üåö<br/>          &lt;/span&gt;<br/>        &lt;/button&gt;<br/>      )}<br/>    &lt;/ThemeContext.Consumer&gt;<br/>  );<br/>}<br/><br/>export default Button;</pre>
      <h3>–í—ã–Ω–µ—Å–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –∏–∑ Context</h3>
      <p>–ù–∞ —Ç–µ–∫—É—â–µ–º —ç—Ç–∞–ø–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –∑–∞—Ä–∞–Ω–µ–µ –ø—Ä–æ–ø–∏—Å–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–æ –Ω–∞—à–∞ —Ü–µ–ª—å ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å –¥–µ–Ω—å –∏ –Ω–æ—á—å –∫–Ω–æ–ø–∫–æ–π. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å <code>&lt;Provider&gt;</code> –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∏ –æ–±–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>ThemeContextProvider</code>.</p>
      <pre>import React, { Component } from "react";<br/>const { Provider, Consumer } = React.createContext();<br/><br/>class ThemeContextProvider extends Component {<br/>  render() {<br/>    return &lt;Provider value={"Day"}&gt;{this.props.children}&lt;/Provider&gt;;<br/>  }<br/>}<br/><br/>export { ThemeContextProvider, Consumer as ThemeContextConsumer };</pre>
      <p>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –¢–µ–ø–µ—Ä—å —Å–≤–æ–π—Å—Ç–≤–æ <code>value</code> –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –≤ –Ω–æ–≤–æ–º —Ñ–∞–π–ª–µ <code>ThemeContext.js</code>, –ø–æ—ç—Ç–æ–º—É –æ–±—Ä–∞–±–æ—Ç–∫—É —ç—Ç–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ <code>index.js</code> –Ω—É–∂–Ω–æ —É–±—Ä–∞—Ç—å.</p>
      <h3>–ò–∑–º–µ–Ω–µ–Ω–∏–µ Context</h3>
      <p>–ß—Ç–æ–±—ã –ø–æ–¥–≤—è–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É, —Å–Ω–∞—á–∞–ª–∞ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è <code>state</code> –≤ <code>ThemeContextProvider</code>:</p>
      <pre>import React, { Component } from "react";<br/>const { Provider, Consumer } = React.createContext();<br/><br/>// –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –µ—â—ë –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ö—É–∫–∏, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ <br/>// –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å –µ–≥–æ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç<br/>class ThemeContextProvider extends Component {<br/>  state = {<br/>    theme: "Day"<br/>  };<br/>  render() {<br/>    return &lt;Provider value={"Day"}&gt;{this.props.children}&lt;/Provider&gt;;<br/>  }<br/>}<br/><br/>export { ThemeContextProvider, Consumer as ThemeContextConsumer };</pre>
      <p>–ü–æ—Ç–æ–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –¥–Ω—ë–º –∏ –Ω–æ—á—å—é:</p>
      <pre>toggleTheme = () =&gt; {<br/>  this.setState(prevState =&gt; {<br/>    return {<br/>      theme: prevState.theme === "Day" ? "Night" : "Day"<br/>    };<br/>  });<br/>};</pre>
      <p>–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ <code>value</code> –Ω–∞ <code>this.state.theme</code>, —á—Ç–æ–±—ã —Å–≤–æ–π—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–æ—Å—å –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è:</p>
      <pre> render() {<br/>    return &lt;Provider value={this.state.theme}&gt;{this.props.children}&lt;/Provider&gt;;<br/>  }</pre>
      <p>–¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å <code>value</code> –Ω–∞ –æ–±—ä–µ–∫—Ç, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π <code>{theme: this.state.theme, toggleTheme: this.toggleTheme}</code>, –∞ —Ç–∞–∫–∂–µ –∑–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>value</code> –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—è <code>theme</code> –∏–∑ –æ–±—ä–µ–∫—Ç–∞. –¢–æ –µ—Å—Ç—å –Ω—É–∂–Ω–æ –∫–∞–∂–¥–æ–µ <code>theme</code> –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ <code>context</code>, –∞ –∫–∞–∂–¥—É—é —Å—Å—ã–ª–∫—É –Ω–∞ <code>theme</code> ‚Äî –Ω–∞ <code>context.theme</code>.</p>
      <p>–ò –ø–æ–¥ –∫–æ–Ω–µ—Ü –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω—É–∂–Ω–æ –ø–æ–≤–µ—Å–∏—Ç—å —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è <code>onClick</code>. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è <code>context.toggleTheme</code> ‚Äî –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è Consumer‚Äô—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç Provider‚Äô–æ–≤. –ö–æ–¥ –∫–Ω–æ–ø–∫–∏ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:</p>
      <pre>import React from "react";<br/>import { ThemeContextConsumer } from "./themeContext";<br/><br/>function Button(props) {<br/>  return (<br/>    &lt;ThemeContextConsumer&gt;<br/>      {context =&gt; (<br/>        &lt;button onClick={context.toggleTheme} className="button"&gt;<br/>          Switch<br/>          &lt;span role="img" aria-label="sun"&gt;<br/>            üåû<br/>          &lt;/span&gt;<br/>          &lt;span role="img" aria-label="moon"&gt;<br/>            üåö<br/>          &lt;/span&gt;<br/>        &lt;/button&gt;<br/>      )}<br/>    &lt;/ThemeContextConsumer&gt;<br/>  );<br/>}<br/><br/>export default Button</pre>
      <p>–¢–µ–ø–µ—Ä—å —ç—Ç–∞ –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –¥–µ–Ω—å –∏ –Ω–æ—á—å.</p>
      <figure>
        <video src="https://cdn.tproger.ru/wp-content/uploads/2019/11/3evdww.gif" autoplay="" loop=""/>
      </figure>
      <h3>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫ —Ä–∞–±–æ—Ç–µ —Å Context</h3>
      <p>–•–æ—Ç—å –≤ —ç—Ç–æ–º –∫–æ–¥–µ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ, –≤—Å—ë –∂–µ –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞—Å–ø–µ–∫—Ç—ã —Å —Ä–∞–±–æ—Ç–æ–π Context:</p>
      <ul>
        <li>–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Context, –µ—Å–ª–∏ –æ–Ω –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –Ω–∞ –æ–¥–∏–Ω-–¥–≤–∞ —É—Ä–æ–≤–Ω—è. –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π —Å–ø–æ—Å–æ–±, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ ¬´–¥–µ—Ä–µ–≤–µ¬ª –¥–∞–ª–µ–∫–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞. –ù–æ –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –æ–ø—É—Å—Ç–∏—Ç—å—Å—è –∏–ª–∏ –ø–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞ –ø–∞—Ä—É —É—Ä–æ–≤–Ω–µ–π, —Ç–æ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –ª–µ–≥—á–µ –∏ –±—ã—Å—Ç—Ä–µ–µ.</li>
        <li>–ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Context –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–≤–µ–¥—ë–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º—É –¥–∞–Ω–Ω—ã–µ, —Ç–æ –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ.</li>
        <li>–í—Å–µ–≥–¥–∞ –æ–±–æ—Ä–∞—á–∏–≤–∞–π—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—è –≤ Provider‚Äô–∞ –Ω–∞ –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª–µ–µ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ ‚Äî –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—É—é –≤–µ—Ä—Ö—É—à–∫—É ¬´–¥–µ—Ä–µ–≤–∞¬ª.</li>
        <li>–ù–∞–∫–æ–Ω–µ—Ü, –µ—Å–ª–∏ –≤—ã —Ä–µ—à–∏–ª–∏ –ø–µ—Ä–µ—Å—ã–ª–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–∞ —Ç–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º, –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å –ø—Ä–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º. –ù–æ —ç—Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è, –µ—Å–ª–∏ –ø—Ä–æ—Å–∞–¥–∫–∏ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ –±—É–¥—É—Ç —Å–∏–ª—å–Ω–æ –∑–∞–º–µ—Ç–Ω—ã.</li>
      </ul>
      <p>
        <a href="https://tproger.ru/translations/javascript-code-cleanup-how-to-refactor-using-classes/">–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –∫–ª–∞—Å—Å—ã: –≤—ã—á–∏—â–∞–µ–º —Å–≤–æ–π JavaScript-–∫–æ–¥tproger.ru</a>
      </p>
      <blockquote>–ù–µ —Å–º–µ—à–Ω–æ? –ê –∑–¥–µ—Å—å —Å–º–µ—à–Ω–æ: <a href="https://tproger.ru/tg/ithumor">@ithumor</a></blockquote>
    </article>
  </body>
</html>